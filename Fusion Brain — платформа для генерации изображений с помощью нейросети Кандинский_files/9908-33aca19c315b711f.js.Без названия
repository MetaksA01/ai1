(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9908],{63257:function(e,t,s){"use strict";s.d(t,{F:function(){return l},v:function(){return o}});var r=s(98116),n=s(62735),a=s(95657);let o=(0,r.$e)(n.Qc,e=>(e.status===a.B.INITIAL||e.status===a.B.PROCESSING)&&!e.readyToShow),l=(0,r.$e)(n.mh,e=>Boolean(e.find(e=>!e.prompt||0===e.prompt.length)))},37722:function(e,t,s){"use strict";s.d(t,{Z:function(){return v}});var r=s(85893),n=s(67294),a=s(33299),o=s(11163),l=s(75185),i=s(29613);s(91529);let c={matcher:["/editor","/profile","/keys","/t2v"]};var d=s(91792),u=s(28458),_=s(4190);let m=e=>{let{children:t}=e,{data:s,status:m,update:v}=(0,a.useSession)(),[h,f]=(0,n.useState)(!1),{asPath:p}=(0,o.useRouter)(),g=(0,n.useRef)(),{addNotification:x}=(0,_.eY)({addNotification:u.Mw});return((0,n.useEffect)(()=>{switch(null==s?void 0:s.error){case"RefreshTokenExpired":console.info("REFRESH_TOKEN_EXPIRED"),(0,a.signOut)();break;case"RefreshAccessTokenError":console.info("REFRESH_ACCESS_TOKEN_EXPIRED_ERROR"),(0,a.signOut)()}},[s]),(0,n.useEffect)(()=>{"authenticated"===m&&(g.current=null==s?void 0:s.accessToken)},[s,m]),(0,n.useEffect)(()=>(("authenticated"===m||g.current)&&(l.Z.interceptors.request.use(e=>(e.headers.Authorization="Bearer ".concat(g.current),e)),l.Z.interceptors.response.use(e=>e,async e=>{let t=e.response?e.response.status:null;if(401===t)try{let t=await v(),s=null==t?void 0:t.accessToken;if(s)return g.current=s,e.config.headers.Authorization="Bearer ".concat(s),l.Z.request(e.config);console.error("Not authorized")}catch(e){throw console.error(e),e}if(409===t){var s,r,n;let t=null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(r=s.data)||void 0===r?void 0:null===(n=r.errors)||void 0===n?void 0:n[0];if(t)return x({message:null==t?void 0:t.error_message,timeout:0,type:i.Pu.ERROR,closable:!0})}return Promise.reject(e)}),f(!0)),()=>{l.Z.interceptors.request.clear(),l.Z.interceptors.response.clear()}),[s,m,g,v,x]),!g.current&&("authenticated"!==m||!h)&&c.matcher.some(e=>p.startsWith(e)))?(0,r.jsx)(d.Z,{}):(0,r.jsx)(r.Fragment,{children:t})};var v=m},86389:function(e,t,s){"use strict";s.d(t,{Z:function(){return z}});var r,n,a,o,l=s(85893),i=s(67294),c=s(4374),d=s(41664),u=s.n(d),_=s(93967),m=s.n(_);function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(null,arguments)}var h=function(e){return i.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:100,height:78,fill:"none"},e),r||(r=i.createElement("path",{fill:"#D3FD7A",fillRule:"evenodd",d:"M58.025 27.643q-1.304 1.256-1.304 4 0 2.757 1.365 4.013 1.365 1.242 3.974 1.242 1.29 0 2.271-.289.998-.289 1.657-.91.675-.635 1.013-1.63.338-.998.338-2.426 0-1.373-.292-2.354-.276-.996-.905-1.631-.63-.65-1.642-.953-.997-.318-2.44-.318-2.716 0-4.035 1.256m1.55 5.573q-.185-.62-.185-1.559 0-1.761.645-2.483.645-.737 1.964-.737.66 0 1.166.16.507.143.844.519.338.375.506.996.17.621.17 1.545t-.17 1.545q-.168.606-.49.982-.323.36-.814.52a3.8 3.8 0 0 1-1.105.144q-.628 0-1.135-.145a1.9 1.9 0 0 1-.844-.505q-.353-.36-.552-.982",clipRule:"evenodd"})),n||(n=i.createElement("path",{fill:"#D3FD7A",d:"M46.666 33.23q.399.232.399.665 0 .476-.43.765-.414.29-1.381.289-.645 0-1.181-.116a7 7 0 0 1-.967-.303 5 5 0 0 1-.752-.375 4 4 0 0 1-.522-.376v2.411q.583.318 1.55.506.968.187 2.01.187 2.332 0 3.376-.808 1.043-.81 1.043-2.267 0-.967-.414-1.559a3.1 3.1 0 0 0-1.013-.953 4.7 4.7 0 0 0-1.32-.563q-.705-.203-1.319-.375a5.4 5.4 0 0 1-1.013-.42q-.399-.23-.399-.649 0-.203.077-.375a.83.83 0 0 1 .292-.303 1.8 1.8 0 0 1 .567-.203q.353-.072.906-.072.874 0 1.688.26.813.245 1.396.621v-2.324q-.552-.217-1.412-.347a11 11 0 0 0-1.872-.144q-1.15 0-1.949.202-.797.202-1.304.592-.491.375-.721.924-.215.534-.215 1.213 0 .967.384 1.573.399.593.982.953t1.273.563 1.274.39q.583.174.967.419M28.373 26.59h-7.181v10.106h2.516v-3.768h4.465v-2.05h-4.465V28.64l2.857-.044zM30.525 29.333l2.517-2.73v5.82q0 .735.107 1.212.123.462.368.736.246.26.63.361.383.101.92.101.507 0 .86-.086.368-.102.583-.361.23-.26.337-.722t.108-1.184v-5.876l2.516-.015v6.05q0 1.242-.307 2.064-.291.809-.875 1.3-.567.476-1.396.678a8 8 0 0 1-1.887.202q-1.105 0-1.949-.202-.844-.216-1.412-.693-.553-.49-.843-1.3-.277-.822-.277-2.035zM54.532 26.59H52.03v10.106h2.5zM69.517 26.59h2.716l3.545 5.284q.245.375.445.75t.399.722l-.062-.794q-.015-.419-.015-.837v-5.126H79v10.107h-2.624l-3.575-5.342a7 7 0 0 1-.476-.78 61 61 0 0 0-.445-.823q.03.375.046.794.03.405.031.823v5.328h-2.44z"})),a||(a=i.createElement("path",{fill:"#D3FD7A",fillRule:"evenodd",d:"M21 41.19q1.288-.043 2.326-.058a70 70 0 0 1 1.957-.03q1.355 0 2.225.148.887.148 1.406.472.518.325.72.842.216.502.217 1.225 0 1.89-2.142 2.317 1.322.075 1.941.68.62.59.62 1.682 0 .827-.252 1.432-.234.591-.853.975-.603.383-1.64.56t-2.61.178q-.72 0-1.69-.03T21 51.495zm2.744 8.37q.384.03.753.045h.77q.669 0 1.087-.059.435-.074.67-.221a.8.8 0 0 0 .334-.399q.1-.236.1-.59 0-.355-.1-.59a.76.76 0 0 0-.335-.37q-.234-.147-.636-.207-.384-.059-.97-.059h-1.673zm1.807-4.118q.92 0 1.255-.295.351-.295.351-.886 0-.34-.084-.56a.64.64 0 0 0-.267-.355 1.4 1.4 0 0 0-.552-.192 5.3 5.3 0 0 0-.887-.059q-.402 0-.787.015-.368 0-.836.03v2.302zM32.6 51.51V41.22q1.105-.045 2.042-.074.936-.044 1.94-.044 1.373 0 2.31.222.936.206 1.489.634.569.414.803 1.063.25.635.25 1.491 0 .635-.1 1.152a2.6 2.6 0 0 1-.318.9 2.3 2.3 0 0 1-.585.694 3.3 3.3 0 0 1-.92.502l2.86 3.75h-3.028L36.8 48.025h-1.455v3.483zm3.966-5.389q.585 0 .97-.088.402-.09.636-.266a.97.97 0 0 0 .335-.458q.1-.28.1-.664 0-.37-.1-.635a.8.8 0 0 0-.318-.428q-.234-.178-.636-.25a5 5 0 0 0-1.02-.09 13 13 0 0 0-1.255.06v2.82zM46.606 49.34l-.803 2.17h-2.728l4.116-10.334h3.246l4.1 10.333h-2.812l-.836-2.17zm.752-1.994h2.778l-1.389-3.675z",clipRule:"evenodd"})),o||(o=i.createElement("path",{fill:"#D3FD7A",d:"M56.277 41.176h2.727v10.333h-2.727zM62.076 41.176h2.962l3.865 5.403q.267.384.485.767.218.384.435.739l-.067-.812q-.017-.428-.017-.857v-5.24h2.677v10.333h-2.86l-3.9-5.462a7 7 0 0 1-.518-.797q-.25-.442-.485-.841.033.383.05.812.034.413.034.841v5.447h-2.66z"})))},f=s(65533),p=s(39474),g=s(14604),x=s.n(g),j=s(4190),E=s(51241),y=s(63257),N=s(24851),q=s(52661);let b=e=>{let{activePage:t}=e,{preparingImg:s,isLoading:r,sidebarBadgesStatus:n}=(0,j.eY)({preparingImg:E.s2,isLoading:y.v,sidebarBadgesStatus:N.$t}),{locale:a,changeLang:o}=(0,q.g)(),{t:d}=(0,c.$)(),_=(0,i.useCallback)(e=>{o(),e.preventDefault()},[o]);return(0,l.jsxs)("div",{className:x().root,children:[(0,l.jsx)(u(),{href:"/",children:(0,l.jsx)(h,{})}),(0,l.jsxs)("div",{className:x().menuItems,children:[(0,l.jsxs)(u(),{draggable:!1,href:"/editor",className:m()(x().menuItem,{[x().active]:"editor"===t}),children:[(0,l.jsxs)("div",{className:x().iconWrap,children:[n.generate&&(0,l.jsx)(f.Z,{className:m()(x().badge,{[x().error]:(null==n?void 0:n.generate)==="error"}),name:(null==n?void 0:n.generate)==="success"?"ic_16_status_navbar_mark_done_fill":"ic_16_status_navbar_warning_fill"}),(0,l.jsx)(f.Z,{className:m()({[x().rotate]:s}),name:s?"anim_24_spinner_loader":"ic_24_image_fill"})]}),(0,l.jsx)(p.Z,{text:d("imagesPage.images")})]}),(0,l.jsxs)(u(),{draggable:!1,href:"/t2v",className:m()(x().menuItem,{[x().active]:"t2v"===t}),children:[(0,l.jsxs)("div",{className:x().iconWrap,children:[n.video&&(0,l.jsx)(f.Z,{className:m()(x().badge,{[x().error]:(null==n?void 0:n.video)==="error"}),name:(null==n?void 0:n.video)==="success"?"ic_16_status_navbar_mark_done_fill":"ic_16_status_navbar_warning_fill"}),(0,l.jsx)(f.Z,{className:m()({[x().rotate]:r}),name:r?"anim_24_spinner_loader":"ic_24_video_box"})]}),(0,l.jsx)(p.Z,{text:d("videoPage.video")})]}),(0,l.jsxs)(u(),{draggable:!1,href:"/keys",className:m()(x().menuItem,{[x().active]:"keys"===t}),children:[(0,l.jsx)("div",{className:x().iconWrap,children:(0,l.jsx)(f.Z,{name:"ic_24_plug"})}),(0,l.jsx)(p.Z,{text:d("api")})]}),(0,l.jsx)("div",{className:x().separate}),(0,l.jsxs)(u(),{draggable:!1,href:"/profile",className:m()(x().menuItem,{[x().active]:"profile"===t}),children:[(0,l.jsx)("div",{className:x().iconWrap,children:(0,l.jsx)(f.Z,{name:"ic_24_user_box"})}),(0,l.jsx)(p.Z,{text:d("profile")})]}),(0,l.jsxs)("a",{href:"/docs".concat("en"===a?"/en":""),target:"_blank",className:m()(x().menuItem,{[x().active]:"docs"===t}),draggable:!1,children:[(0,l.jsx)("div",{className:x().iconWrap,children:(0,l.jsx)(f.Z,{name:"ic_24_file"})}),(0,l.jsx)(p.Z,{text:d("docs")})]}),(0,l.jsxs)(u(),{draggable:!1,href:"",onClick:_,className:m()(x().menuItem),children:[(0,l.jsx)("div",{className:x().iconWrap,children:(0,l.jsx)(f.Z,{name:"ic_24_language_planet"})}),(0,l.jsx)(p.Z,{text:d("en"===a?"english":"russian")})]})]})]})};var Z=s(81147),w=s.n(Z),R=s(37722);let k=e=>{let{children:t,activePage:s="editor"}=e;return(0,l.jsxs)("div",{className:w().root,children:[(0,l.jsx)("div",{children:(0,l.jsx)(b,{activePage:s})}),(0,l.jsx)("div",{className:w().content,children:(0,l.jsx)(R.Z,{children:t})})]})};var z=k},86078:function(e,t,s){"use strict";var r=s(85893),n=s(67294),a=s(4374),o=s(29613),l=s(73934),i=s(56790),c=s.n(i),d=s(4190),u=s(24851),_=s(51241),m=s(28458),v=s(71168);let h=()=>{let{t:e}=(0,a.$)(),{setCensoredPrompt:t,censoredPrompt:s,addNotification:i,removeNotification:h,availabilityCheck:f}=(0,d.eY)({censoredPrompt:u.Hs,setCensoredPrompt:_.g2,addNotification:m.Mw,removeNotification:m.S6,availabilityCheck:v.FS}),{isOnline:p}=(0,l.Z)();return(0,n.useEffect)(()=>{s&&(i({id:"censoredErrorMessage",htmlMessage:(0,r.jsxs)("div",{className:c().censoredBody,children:[(0,r.jsx)(o.ZT,{size:14,text:e("censored")}),(0,r.jsx)("a",{href:"mailto:hello@fusionbrain.ai?subject=Сообщить об ошибке / Report a bug&body=".concat(s.prompt),children:(0,r.jsx)(o.zx,{className:c().reportButton,buttonType:o.L$.CLEAR,children:e("sendError")})})]}),type:o.Pu.ERROR,timeout:0,closable:!0,context:s.context}),t(null)),p?(h("networkError"),f()):i({id:"networkError",messageKey:e("errors.checkConnectionAndReload"),type:o.Pu.ERROR,closable:!1,timeout:0,context:"global",important:!0})},[p,e,s,t,i,h,f]),null};t.Z=h},91792:function(e,t,s){"use strict";var r=s(85893);s(67294);var n=s(11586),a=s.n(n);let o=()=>(0,r.jsx)("div",{className:a().root});t.Z=o},39474:function(e,t,s){"use strict";var r=s(85893);s(67294);var n=s(93967),a=s.n(n),o=s(70124),l=s(73733),i=s.n(l);let c=e=>{let{text:t,className:s,html:n}=e;return(0,r.jsx)(o.Z,{html:n,text:t,className:a()(i().root,s)})};t.Z=c},73934:function(e,t,s){"use strict";var r=s(67294);let n=()=>{let[e,t]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=()=>{t(navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),t(navigator.onLine),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[e]),{isOnline:e}};t.Z=n},52661:function(e,t,s){"use strict";s.d(t,{g:function(){return l}});var r=s(31955),n=s(4374),a=s(11163),o=s(67294);function l(){let{locale:e,locales:t,push:s,asPath:l}=(0,a.useRouter)(),{i18n:i}=(0,n.$)(),c=(0,o.useMemo)(()=>e||i.language,[e,i]),d=(0,o.useCallback)(e=>{if(!e){let e=t.find(e=>e!==c);r.Z.set("NEXT_LOCALE",e,{domain:".".concat(location.hostname)}),r.Z.set("FB_LOCALE",e,{domain:".".concat(location.hostname)}),s(l,"",{locale:e})}},[s,l,t,c]);return{changeLang:d,locale:c,locales:t}}},81147:function(e){e.exports={root:"styles_root__l_7NR",content:"styles_content__WPknI"}},56790:function(e){e.exports={root:"styles_root__JxEX8",active:"styles_active___p49F",closeHint:"styles_closeHint__F9iDp",error:"styles_error___GTFZ",warn:"styles_warn__HZ2L3",message:"styles_message__Z6_EK",separate:"styles_separate__ZWtCt",icon:"styles_icon__mEw19",loading:"styles_loading__KEaWc",rotator:"styles_rotator__UbNkp",reportButton:"styles_reportButton__q7o8r",censoredBody:"styles_censoredBody__wmkWw"}},11586:function(e){e.exports={root:"styles_root__nZMBj",placeholderShimmer:"styles_placeholderShimmer__76iWl"}},14604:function(e){e.exports={root:"styles_root__SMtKh",menuItems:"styles_menuItems__xz7HR",menuItem:"styles_menuItem__swvAu",active:"styles_active__2Y9Oc",iconWrap:"styles_iconWrap__c1wVe",separate:"styles_separate__eNnQH",rotate:"styles_rotate__HUvGQ",rotator:"styles_rotator__2Xhjl",badge:"styles_badge__pYRNi",error:"styles_error__9_0wi"}},73733:function(e){e.exports={root:"styles_root__Tddaw"}}}]);